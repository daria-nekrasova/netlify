$(document).ready(function () {
  $(".b2_center").on(
    "beforeChange",
    function (event, slick, currentSlide, nextSlide) {
      $(".b2_center .slick-track").removeClass("animation");
      let nmb = currentSlide + 3;
      let urls = $(".user_" + nmb).attr("data-src");
      $(".user_" + nmb).attr("src", urls);
    }
  );
  $(".b7_box").on(
    "beforeChange",
    function (event, slick, currentSlide, nextSlide) {
      $(".b7_box .slick-track").removeClass("animation");
      let nmb = currentSlide + 3;
      let urls = $(".exp_" + nmb).attr("data-src");
      $(".exp_" + nmb).attr("src", urls);
    }
  );
  $(".b7_box").slick({
    dots: true,
    infinite: false,
    speed: 700,
    arrows: false,
    slidesToShow: 1,
    slidesToScroll: 1,
    focusOnSelect: true,
  });
  $(".b2_top_user_photo").slick({
    dots: false,
    infinite: true,
    speed: 700,
    arrows: false,
    fade: true,
    asNavFor: ".b2_center",
    cssEase: "linear",
  });
  $(".b2_center").slick({
    dots: true,
    infinite: false,
    speed: 700,
    arrows: false,
    slidesToShow: 1,
    slidesToScroll: 1,
    focusOnSelect: true,
    asNavFor: ".b2_top_user_photo",
  });
  $(".b2_center .slick-track").addClass("animation");
  $(".b7_box .slick-track").addClass("animation");
  $(".bt_left").click(function () {
    $(".box_slider").slick("slickPrev");
  });
  $(".bt_right").click(function () {
    $(".box_slider").slick("slickNext");
  });
});
$(document).ready(function () {
  var countbox = "#spin_counts",
    show = true;
  $(window).on("scroll load resize", function () {
    if (!show) return false;
    var w_top = $(window).scrollTop(),
      e_top = $(countbox).offset().top,
      w_height = $(window).height(),
      d_height = $(document).height(),
      e_height = $(countbox).outerHeight();
    if (
      w_top + 500 >= e_top ||
      w_height + w_top == d_height ||
      e_height + e_top < w_height
    ) {
      $(".spincrement").spincrement({ thousandSeparator: "", duration: 1000 });
      show = false;
    }
  });
});
!(function (t) {
  t.extend(t.easing, {
    spincrementEasing: function (t, a, e, n, r) {
      return a === r ? e + n : n * (-Math.pow(2, (-10 * a) / r) + 1) + e;
    },
  }),
    (t.fn.spincrement = function (a) {
      function e(t, a) {
        if (
          ((t = t.toFixed(a)),
          a > 0 &&
            "." !== r.decimalPoint &&
            (t = t.replace(".", r.decimalPoint)),
          r.thousandSeparator)
        )
          for (; o.test(t); )
            t = t.replace(o, "$1" + r.thousandSeparator + "$2");
        return t;
      }
      var n = {
          from: 0,
          to: null,
          decimalPlaces: null,
          decimalPoint: ".",
          thousandSeparator: ",",
          duration: 1e3,
          leeway: 50,
          easing: "spincrementEasing",
          fade: !0,
          complete: null,
        },
        r = t.extend(n, a),
        o = new RegExp(/^(-?[0-9]+)([0-9]{3})/);
      return this.each(function () {
        var a = t(this),
          n = r.from;
        a.attr("data-from") && (n = parseFloat(a.attr("data-from")));
        var o;
        if (a.attr("data-to")) o = parseFloat(a.attr("data-to"));
        else if (null !== r.to) o = r.to;
        else {
          var i =
              t.inArray(r.thousandSeparator, [
                "\\",
                "^",
                "$",
                "*",
                "+",
                "?",
                ".",
              ]) > -1
                ? "\\" + r.thousandSeparator
                : r.thousandSeparator,
            l = new RegExp(i, "g");
          o = parseFloat(a.text().replace(l, ""));
        }
        var c = r.duration;
        r.leeway &&
          (c += Math.round(
            (r.duration * (2 * Math.random() - 1) * r.leeway) / 100
          ));
        var s;
        if (a.attr("data-dp")) s = parseInt(a.attr("data-dp"), 10);
        else if (null !== r.decimalPlaces) s = r.decimalPlaces;
        else {
          var d = a.text().indexOf(r.decimalPoint);
          s = d > -1 ? a.text().length - (d + 1) : 0;
        }
        a.css("counter", n),
          r.fade && a.css("opacity", 0),
          a.animate(
            { counter: o, opacity: 1 },
            {
              easing: r.easing,
              duration: c,
              step: function (t) {
                a.html(e(t * o, s));
              },
              complete: function () {
                a.css("counter", null),
                  a.html(e(o, s)),
                  r.complete && r.complete(a);
              },
            }
          );
      });
    });
})(jQuery);
